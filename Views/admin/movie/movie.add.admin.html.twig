{% extends "admin/partials/base.admin.html.twig" %}

{% block title %}Add Movie | Admin{% endblock %}


{% block stylesheets %}
    <link rel="stylesheet" href="{{ baseUrl }}/assets/css/formStyle.css">
{% endblock %}

{% block body %}
    <div class="container mt-5" id="form-container">
        <form action="{{ baseUrl }}/admin/movie/add" method="post" id="form-data" class="pb-3">

            <div class="form-group">
                <label for="movie-title-add">Title:</label>
                <input type="text" name="movie-title-add" id="movie-title-add" class="form-control" autofocus required>
            </div>


            <div class="input-group pb-3" id="genre-text">
                <div class="input-group-prepend">
                    <label class="input-group-text" for="genre-edit-old">Genre:</label>
                </div>
                <select class="custom-select" name="genre-edit-old" id="genre-edit-old">
                    <option value="">--Please choose a genre--</option>
                    {% if arrayGenre is defined %}
                        {% for id, genre in arrayGenre %}
                            <option name="{{ id }}" id="{{ id }}">{{ genre }}</option>
                        {% endfor %}
                    {% endif %}
                </select>
            </div>


            <div class="input-group pb-3" id="genre-text">
                <div class="input-group-prepend">
                    <label class="input-group-text" for="director-add">Director:</label>
                </div>
                <select class="custom-select" name="director-add" id="director-add">
                    <option value="">--Please choose an artist--</option>
                    {% if arrayArtist is defined %}
                        {% for id, fullName in arrayArtist %}
                            <option name="{{ id }}" id="{{ id }}">{{ fullName.0 }} {{ fullName.1 }}
                                - {{ fullName.2 }}</option>
                        {% endfor %}
                    {% endif %}
                </select>
            </div>


            <div class="form-group">
                <label for="movie-year-add">Release year:</label>
                <input type="number" name="movie-year-add" id="movie-year-add" class="form-control" required>
            </div>


            <div class="form-group">
                <label for="file">Poster:</label>
                <div class="custom-file">
                    <label for="file" class="custom-file-label text-left">Movie poster</label>
                    <input id="file" required name="file[]" class="custom-file-input"
                           type="file"><?php $customFormFile = true; ?>
                </div>
            </div>


            <div class="form-group">
                <label for="movie-synopsis-add">Synopsis:</label>
                <textarea name="movie-synopsis-add" id="movie-synopsis-add" class="form-control" rows="5"></textarea>
            </div>


            <div id="form-btn-group">
                <input type="submit" value="Add artist" class="btn btn-primary">
                <input type="reset" value="Reset" class="btn btn-danger">
            </div>
        </form>
        {% if addArtist is defined %}
            {% if addArtist == true %}
                <div class="alert alert-success" role="alert">
                    Movie added with success !
                </div>
            {% else %}
                <div class="alert alert-danger" role="alert">
                    Error when adding movie !
                </div>
            {% endif %}
        {% endif %}
    </div>
{% endblock %}

{% block footer %}
{% endblock %}

{% block javascripts %}
    <script src="{{ baseUrl }}/assets/js/movieFileInputForm.js"></script>
{% endblock %}